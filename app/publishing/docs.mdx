import { DocLayout, DocImage } from '../../components';
import Image from 'next/image'

# Publishing your app

### Introduction

Publishing your application to a store is an exciting step of the development journey.

When submitting your app you'll be asked to submit information about what data you are tracking. The full list of items
your app is tracking depends on what tools your using, with Vexo analytics you are tracking:

- Device ID
- Device model, OS
- Device country
- Application version
- Opened/closed/browsing app
- Changed screen
- Taps on screen
- Started and finished typying
- Screen orientation
- Network requests 

Additionaly you can use custom events when using Vexo, so if you use them to track anything else you might need to 
include that information as well.

### Handling tracking permissions

When using Vexo Analytics you don't need to require special permissions, everything works out of the box!


If you choose to do so we recommend using a third party library to do so such as `react-native-tracking-transparency` 
with our opt-in/opt-out features.

Check [react-native-tracking-transparency](https://github.com/mrousavy/react-native-tracking-transparency) to see how 
to integrate it into your app, to disable or enable Vexo based on your users permissions, you shou call `disableTracking` or `enableTracking` accordingly.

```
import { enableTracking, disableTracking } from 'vexo-analytics';
import { getTrackingStatus } from 'react-native-tracking-transparency';

const App = () => {
    ...

    useEffect(() => {
        getTrackingStatus().then(status => {
            if (status !== 'authorized') {
                disableTracking();
            } else {
                enableTracking();
            }
        })
    }, []);

    ...
};
```


### Apple app privacy form

Apple requires you to fill out the App Privacy form when you submit your app to the App Store.

When using Vexo Analytics there are some items that **must** be checked when submitting your app.

#### Do you or your third-party partners collect any data from this app?


Select **yes** when asked if a third-party partner is collecting any data. As listed above, with Vexo you are tracking 
a lot of information out of the box.

<DocImage src="/docs/apple-data-collection.png" width="502" height="440" smallImage/>

#### Usage Data

Next, you'll be asked the data types you collect.
Regarding Vexo the only data types you need to select is **Product Interaction** and **Usage Data**.

You’ll then be asked to expand on how you use the Product Interaction data. Select **Analytics** as the answer.

<DocImage src="/docs/apple-analytics.png" width="502" height="610" smallImage/>

Then next question is related to **User Identification**.
This depends on how you are using `identifyUser` to identify your users. If you are not using any personal information such as their email then you can safely select **No** for this question.

Finally, they’ll explain their definition of what Tracking is and ask you to confirm if you track users.
Apple only considers tracking when data is linked to an user’s identity and used for targeted advertising or advertising measurement purposes, which is not something we do at Vexo so you can select *No*.

<DocImage src="/docs/apple-identify-device.png" width="502" height="650" smallImage/>



export default ({ children }) => <DocLayout
    current="publishing"
    previous={{ href: 'features', label: 'Features'}}
    next={{ href: 'active-users', label: 'Active Users' }} >
        {children}
</DocLayout>
